<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="twitter:site" content="skywalking.apache.org">
<meta name="twitter:image:src" content="https://skywalking.apache.org/images/skywalking_400x400.png">
<meta property="og:image" content="https://skywalking.apache.org/images/skywalking_400x400.png">
<meta name="generator" content="Hugo 0.80.0" />
<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
<link rel="stylesheet" href="//at.alicdn.com/t/font_3007530_1h1a8yq155l.css">



<link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
<link rel="manifest" href="/favicons/site.webmanifest">
<link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

<title>K8s monitoring | Apache SkyWalking</title><meta property="og:title" content="K8s monitoring" />
<meta property="og:description" content="K8s monitoring SkyWalking leverages K8s kube-state-metrics and cAdvisor for collecting metrics data from K8s, and leverages OpenTelemetry Collector to transfer the metrics to OpenTelemetry receiver and into the Meter System. This feature requires authorizing the OAP Server to access K8s&rsquo;s API Server.
We define the k8s-cluster as a Service in the OAP, and use k8s-cluster:: as a prefix to identify it.
We define the k8s-node as an Instance in the OAP, and set its name as the K8s node name." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/main/v8.8.1/en/setup/backend/backend-k8s-monitoring/" />

<meta itemprop="name" content="K8s monitoring">
<meta itemprop="description" content="K8s monitoring SkyWalking leverages K8s kube-state-metrics and cAdvisor for collecting metrics data from K8s, and leverages OpenTelemetry Collector to transfer the metrics to OpenTelemetry receiver and into the Meter System. This feature requires authorizing the OAP Server to access K8s&rsquo;s API Server.
We define the k8s-cluster as a Service in the OAP, and use k8s-cluster:: as a prefix to identify it.
We define the k8s-node as an Instance in the OAP, and set its name as the K8s node name.">

<meta itemprop="wordCount" content="833">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="K8s monitoring"/>
<meta name="twitter:description" content="K8s monitoring SkyWalking leverages K8s kube-state-metrics and cAdvisor for collecting metrics data from K8s, and leverages OpenTelemetry Collector to transfer the metrics to OpenTelemetry receiver and into the Meter System. This feature requires authorizing the OAP Server to access K8s&rsquo;s API Server.
We define the k8s-cluster as a Service in the OAP, and use k8s-cluster:: as a prefix to identify it.
We define the k8s-node as an Instance in the OAP, and set its name as the K8s node name."/>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-178891182-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>



<link rel="preload" href="/scss/main.min.ecf915c6194ac2f4465190a6ac931a291af2b9b39142232dfc7c3d327b795fe8.css" as="style">
<link href="/scss/main.min.ecf915c6194ac2f4465190a6ac931a291af2b9b39142232dfc7c3d327b795fe8.css" rel="stylesheet" integrity="">



<link rel="stylesheet" href="/css/docSearch.css" />


<script src="/js/jquery-3.6.0.min.js"></script>





    <title>K8s monitoring | Apache SkyWalking</title>
  </head>
  <body class="td-page  project-doc">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand  flex-column flex-md-row td-navbar">
    <div class="sidebar-button">
      <i class="iconfont icon-menu"></i>
    </div>
    <a class="navbar-brand" href="/">
        <span class="navbar-logo"><img width="130" src="/images/logo.svg" alt="SkyWalking"></span> 
    </a>
    <div class="td-navbar-nav-scroll navbar-nav-wrapper" id="navigation">
        <ul class="navbar-nav mt-lg-0">
             
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/docs" ><span>Projects and Docs</span></a>
			</li>
             
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/events" ><span>Events</span></a>
			</li>
             
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/blog" ><span>Blogs</span></a>
			</li>
             
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/downloads" ><span>Downloads</span></a>
			</li>
             
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/team" ><span>Team</span></a>
			</li>
             
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/users" ><span>Users</span></a>
			</li>
             
            
            
            <li class="nav-item mr-3 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="/zh" ><span>中文博客</span></a>
			</li>
             
            
             
            
			
        </ul>
    </div>
    <div class="navbar-nav d-none d-lg-block search-input-box">
         
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
            <span class="link dropdown">
                <a class="link-name dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Links
                </a>
                <div class="dropdown-menu">
                    
                    <a class="dropdown-item" href="http://www.apache.org/">Apache Software Foundation</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/issues">GitHub Issue Tracker</a> 
                    <a class="dropdown-item" href="https://github.com/apache/skywalking/discussions">Discussion</a> 
                    <a class="dropdown-item" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">Dev Mailing List</a> 
                    <a class="dropdown-item" href="https://cwiki.apache.org/confluence/display/SKYWALKING/Home">WIKI</a> 
                    <a class="dropdown-item" href="http://www.apache.org/licenses/">License</a> 
                    <a class="dropdown-item" href="http://www.apache.org/events/current-event">Apache Events</a> 
                    <a class="dropdown-item" href="http://www.apache.org/security/">Security</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/sponsorship.html">Sponsor and Donate</a> 
                    <a class="dropdown-item" href="http://www.apache.org/foundation/thanks.html">Thanks</a> 
                </div>
            </span>
            
        
        
<div id="docsearch"></div>


    </div>
</nav>

    </header>
    <div class="container-fluid td-outer">

      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 d-print-none scroll-bar td-sidebar">







                  <div class="description-wrapper">
                    <h5>
                    <img width="26" height="26" src="/images/project/skywalking.svg">
                    skywalking
                    </h5>
                    <p>SkyWalking OAP server and UI. Introduce concepts, designs, setup, and corresponding APIs referred to telemetry data report and query.</p>
                  </div>
                  
                  <div class="version-wrapper">Version: 
                  <select class="version-select">
                  
                    
                    
                    <option ZgotmplZ value="latest">
                    
                      latest
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v9.1.0">
                    
                      v9.1.0
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v9.0.0">
                    
                      v9.0.0
                    
                    </option>
                  
                    
                    
                    <option ZgotmplZ value="v8.9.1">
                    
                      v8.9.1
                    
                    </option>
                  
                    
                    
                    <option selected value="v8.8.1">
                    
                      v8.8.1
                    
                    </option>
                  
                  </select>
                  </div>
                  
                  <ul class="sidebar-menu">
    
    <li>
        
            <a href="/docs/main/v8.8.1/readme">Welcome</a>
        
    </li>
    
    <li>
        
            
            <a href="#">Concepts and Designs<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        

            
            <a href="#">What is SkyWalking?<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/v8.8.1/en/concepts-and-designs/overview">Overview and Core concepts</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/concepts-and-designs/project-goals">Project Goals</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Probe<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/v8.8.1/en/concepts-and-designs/probe-introduction">Introduction</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/concepts-and-designs/service-agent">Service Auto Instrument Agent</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/concepts-and-designs/manual-sdk">Manual Instrument SDK</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/concepts-and-designs/service-mesh-probe">Service Mesh probe</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Backend<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/v8.8.1/en/concepts-and-designs/backend-overview">Overview</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/concepts-and-designs/oal">Observability Analysis Language</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/concepts-and-designs/mal">Meter Analysis Language</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/concepts-and-designs/lal">Log Analysis Language</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/protocols/readme#query-protocol">Query in OAP</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/concepts-and-designs/ui-overview">UI</a>
        
    </li>

    

    <li>
        
            <a href="https://github.com/apache/skywalking-cli">CLI</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/concepts-and-designs/event/">Event</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            
            <a href="#">Setup<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/service-agent/server-agents">Server Agents</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/service-agent/browser-agent">Browser Agent</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/service-agent/agent-compatibility">Compatibility</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Backend<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-setup">Quick Start</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/docker">Quick Start with Docker</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/configuration-vocabulary">Configuration Vocabulary</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Advanced Setup<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/service-auto-grouping">Service Grouping</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-setting-override">Overriding Settings</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-ip-port">IP And Port Setting</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-init-mode">Backend Init Mode Startup</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-cluster">Cluster Management</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-storage">Choose Storage</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-receivers">Set Receivers</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-fetcher">Open Fetchers</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/advanced-deployment">Advanced Deployment Options</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/ttl">Data Lifecycle. Time To Live (TTL)</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/endpoint-grouping-rules">Group Parameterized Endpoints</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/dynamical-logging">Dynamical Logging</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/grpc-security">Security(SSL/TLS/mTLS)</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-k8s">Deploy In Kubernetes</a>
        
    </li>

    

    <li>
        

            
            <a href="#">Tracing<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/trace-sampling">Trace Sampling</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/slow-db-statement">Detect Slow Database Statement</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/uninstrumented-gateways">Uninstrumented Gateways</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Metrics<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/v8.8.1/en/guides/backend-oal-scripts">OAL Scripts</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-receivers#opentelemetry-receiver">OpenTelemetry Metrics Analysis</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-meter">Meter Analysis</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/apdex-threshold">Apdex Threshold</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/spring-sleuth-setup">Spring Sleuth Metrics Analysis</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-alarm">Alarm</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Logging<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/log-analyzer">Log Collecting And Analysis</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Self Observability<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-telemetry">Backend Telemetry</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-health-check">Health Check</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Extension<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/metrics-exporter">Metrics Exporter</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/dynamic-config">Dynamic Configuration</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Service Mesh<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/istio/readme">Observe Istio Control Plane</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/envoy/als_setting">Observe Service Mesh</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/envoy/metrics_service_setting">Send Envoy Metrics to SkyWalking with / without Istio</a>
        
    </li>

    

</ul>

        
    </li>

    

    <li>
        

            
            <a href="#">Infrastructure Monitoring<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-vm-monitoring">VMs Monitoring</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/backend-k8s-monitoring">K8s Monitoring</a>
        
    </li>

    

</ul>

        
    </li>

    

</ul>

        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/setup/backend/ui-setup">UI Setup</a>
        
    </li>

    

    <li>
        
            <a href="https://github.com/apache/skywalking-cli">CLI Setup</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            <a href="/docs/main/v8.8.1/en/ui/readme">UI Introduction</a>
        
    </li>
    
    <li>
        
            
            <a href="#">Contributing Guides<i class="iconfont icon-arrow-right pull-right"></i></a>
            

            
<ul class="sidebar-submenu">
    

    <li>
        
            <a href="/docs/main/v8.8.1/en/guides/readme">Contribute</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/guides/asf/committer">Become A Committer</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/guides/how-to-release/">Release Guide</a>
        
    </li>

    

    <li>
        
            <a href="/docs/main/v8.8.1/en/guides/how-to-build">Compiling Guide</a>
        
    </li>

    

</ul>

        
    </li>
    
    <li>
        
            <a href="/docs/main/v8.8.1/en/protocols/readme">Protocols</a>
        
    </li>
    
    <li>
        
            <a href="/docs/main/v8.8.1/en/faq/readme">FAQs</a>
        
    </li>
    
    <li>
        
            <a href="https://github.com/apache/skywalking/tree/master/changes">Changelog</a>
        
    </li>
    
</ul>
<script src="/js/sidebar-menu.js"></script>
<script>
  (function (){
    $.sidebarMenu($('.sidebar-menu'))
    var path = window.location.pathname;
    var hash = window.location.hash;
    var $a = $('.sidebar-menu a')
    $a.each(function (e){
      if($(this).attr('href')+'/' === path || $(this).attr('href').replace('#','/#') === path+hash){
        $(this).parents('li').addClass('active').show()
      }
    })
    $a.on('click',function (){
      var url = $(this).attr('href')
      if(url!=='#'){
        window.location.href = url
      }
    })
  })()
</script>

                  <div class="commit-id">Commit Id: 7cfd2d2</div>
                


















</div>
            <main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role="main">
              <i class="iconfont icon-menu-doc doc-menu-button"></i>
              
<div class="td-content">











	<h1 id="k8s-monitoring">K8s monitoring</h1>
<p>SkyWalking leverages K8s kube-state-metrics and cAdvisor for collecting metrics data from K8s, and leverages OpenTelemetry Collector to transfer the metrics to
<a href="../backend-receivers#opentelemetry-receiver">OpenTelemetry receiver</a> and into the <a href="./../../../concepts-and-designs/meter">Meter System</a>. This feature requires authorizing the OAP Server to access K8s&rsquo;s <code>API Server</code>.<br>
We define the k8s-cluster as a <code>Service</code> in the OAP, and use <code>k8s-cluster::</code> as a prefix to identify it.<br>
We define the k8s-node as an <code>Instance</code> in the OAP, and set its name as the K8s <code>node name</code>.<br>
We define the k8s-service as an <code>Endpoint</code> in the OAP, and set its name as <code>$serviceName.$namespace</code>.</p>
<h2 id="data-flow">Data flow</h2>
<ol>
<li>K8s kube-state-metrics and cAdvisor collect metrics data from K8s.</li>
<li>OpenTelemetry Collector fetches metrics from kube-state-metrics and cAdvisor via Prometheus Receiver and pushes metrics to SkyWalking OAP Server via the OpenCensus GRPC Exporter.</li>
<li>The SkyWalking OAP Server access to K8s&rsquo;s <code>API Server</code> gets meta info and parses the expression with <a href="../../../concepts-and-designs/mal">MAL</a> to filter/calculate/aggregate and store the results.</li>
</ol>
<h2 id="setup">Setup</h2>
<ol>
<li>Setup <a href="https://github.com/kubernetes/kube-state-metrics#kubernetes-deployment">kube-state-metric</a>.</li>
<li>cAdvisor is integrated into <code>kubelet</code> by default.</li>
<li>Set up <a href="https://opentelemetry.io/docs/collector/getting-started/#kubernetes">OpenTelemetry Collector </a>. For details on Prometheus Receiver in OpenTelemetry Collector for K8s, refer to <a href="https://github.com/prometheus/prometheus/blob/main/documentation/examples/prometheus-kubernetes.yml">here</a>. For a quick start, we have provided a full example for OpenTelemetry Collector configuration <a href="../otel-collector-config.yaml">otel-collector-config.yaml</a>.</li>
<li>Config SkyWalking <a href="../backend-receivers#opentelemetry-receiver">OpenTelemetry receiver</a>.</li>
</ol>
<h2 id="supported-metrics">Supported Metrics</h2>
<p>From the different points of view to monitor K8s, there are 3 kinds of metrics: <a href="#cluster">Cluster</a> / <a href="#node">Node</a> / <a href="#service">Service</a></p>
<h3 id="cluster">Cluster</h3>
<p>These metrics are related to the selected cluster (<code>Current Service in the dashboard</code>).</p>
<table>
<thead>
<tr>
<th>Monitoring Panel</th>
<th>Unit</th>
<th>Metric Name</th>
<th>Description</th>
<th>Data Source</th>
</tr>
</thead>
<tbody>
<tr>
<td>Node Total</td>
<td></td>
<td>k8s_cluster_node_total</td>
<td>The number of nodes</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Namespace Total</td>
<td></td>
<td>k8s_cluster_namespace_total</td>
<td>The number of namespaces</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Deployment Total</td>
<td></td>
<td>k8s_cluster_deployment_total</td>
<td>The number of deployments</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Service Total</td>
<td></td>
<td>k8s_cluster_service_total</td>
<td>The number of services</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Pod Total</td>
<td></td>
<td>k8s_cluster_pod_total</td>
<td>The number of pods</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Container Total</td>
<td></td>
<td>k8s_cluster_container_total</td>
<td>The number of containers</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>CPU Resources</td>
<td>m</td>
<td>k8s_cluster_cpu_cores<br />k8s_cluster_cpu_cores_requests<br />k8s_cluster_cpu_cores_limits<br />k8s_cluster_cpu_cores_allocatable</td>
<td>The capacity and the Requests / Limits / Allocatable of the CPU</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Memory Resources</td>
<td>GB</td>
<td>k8s_cluster_memory_total<br />k8s_cluster_memory_requests<br />k8s_cluster_memory_limits<br />k8s_cluster_memory_allocatable</td>
<td>The capacity and the Requests / Limits / Allocatable of the memory</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Storage Resources</td>
<td>GB</td>
<td>k8s_cluster_storage_total<br />k8s_cluster_storage_allocatable</td>
<td>The capacity and allocatable of the storage</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Node Status</td>
<td></td>
<td>k8s_cluster_node_status</td>
<td>The current status of the nodes</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Deployment Status</td>
<td></td>
<td>k8s_cluster_deployment_status</td>
<td>The current status of the deployment</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Deployment Spec Replicas</td>
<td></td>
<td>k8s_cluster_deployment_spec_replicas</td>
<td>The number of desired pods for a deployment</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Service Status</td>
<td></td>
<td>k8s_cluster_service_pod_status</td>
<td>The services current status, depending on the related pods' status</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Pod Status Not Running</td>
<td></td>
<td>k8s_cluster_pod_status_not_running</td>
<td>The pods which are not running in the current phase</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Pod Status Waiting</td>
<td></td>
<td>k8s_cluster_pod_status_waiting</td>
<td>The pods and containers which are currently in the waiting status, with reasons shown</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Pod Status Terminated</td>
<td></td>
<td>k8s_cluster_container_status_terminated</td>
<td>The pods and containers which are currently in the terminated status, with reasons shown</td>
<td>K8s kube-state-metrics</td>
</tr>
</tbody>
</table>
<h3 id="node">Node</h3>
<p>These metrics are related to the selected node (<code>Current Instance in the dashboard</code>).</p>
<table>
<thead>
<tr>
<th>Monitoring Panel</th>
<th>Unit</th>
<th>Metric Name</th>
<th>Description</th>
<th>Data Source</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pod Total</td>
<td></td>
<td>k8s_node_pod_total</td>
<td>The number of pods in this node</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Node Status</td>
<td></td>
<td>k8s_node_node_status</td>
<td>The current status of this node</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>CPU Resources</td>
<td>m</td>
<td>k8s_node_cpu_cores<br />k8s_node_cpu_cores_allocatable<br />k8s_node_cpu_cores_requests<br />k8s_node_cpu_cores_limits</td>
<td>The capacity and the requests / Limits / Allocatable of the CPU</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Memory Resources</td>
<td>GB</td>
<td>k8s_node_memory_total<br />k8s_node_memory_allocatable<br />k8s_node_memory_requests<br />k8s_node_memory_limits</td>
<td>The capacity and the requests / Limits / Allocatable of the memory</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Storage Resources</td>
<td>GB</td>
<td>k8s_node_storage_total<br />k8s_node_storage_allocatable</td>
<td>The capacity and allocatable of the storage</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>CPU Usage</td>
<td>m</td>
<td>k8s_node_cpu_usage</td>
<td>The total usage of the CPU core, if there are 2 cores the maximum usage is 2000m</td>
<td>cAdvisor</td>
</tr>
<tr>
<td>Memory Usage</td>
<td>GB</td>
<td>k8s_node_memory_usage</td>
<td>The totaly memory usage</td>
<td>cAdvisor</td>
</tr>
<tr>
<td>Network I/O</td>
<td>KB/s</td>
<td>k8s_node_network_receive<br />k8s_node_network_transmit</td>
<td>The network receive and transmit</td>
<td>cAdvisor</td>
</tr>
</tbody>
</table>
<h3 id="service">Service</h3>
<p>In these metrics, the pods are related to the selected service (<code>Current Endpoint in the dashboard</code>).</p>
<table>
<thead>
<tr>
<th>Monitoring Panel</th>
<th>Unit</th>
<th>Metric Name</th>
<th>Description</th>
<th>Data Source</th>
</tr>
</thead>
<tbody>
<tr>
<td>Service Pod Total</td>
<td></td>
<td>k8s_service_pod_total</td>
<td>The number of pods</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Service Pod Status</td>
<td></td>
<td>k8s_service_pod_status</td>
<td>The current status of pods</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Service CPU Resources</td>
<td>m</td>
<td>k8s_service_cpu_cores_requests<br />k8s_service_cpu_cores_limits</td>
<td>The CPU resources requests / Limits of this service</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Service Memory Resources</td>
<td>MB</td>
<td>k8s_service_memory_requests<br />k8s_service_memory_limits</td>
<td>The memory resources requests / Limits of this service</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Pod CPU Usage</td>
<td>m</td>
<td>k8s_service_pod_cpu_usage</td>
<td>The CPU resources total usage of pods</td>
<td>cAdvisor</td>
</tr>
<tr>
<td>Pod Memory Usage</td>
<td>MB</td>
<td>k8s_service_pod_memory_usage</td>
<td>The memory resources total usage of pods</td>
<td>cAdvisor</td>
</tr>
<tr>
<td>Pod Waiting</td>
<td></td>
<td>k8s_service_pod_status_waiting</td>
<td>The pods and containers which are currently in the waiting status, with reasons shown</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Pod Terminated</td>
<td></td>
<td>k8s_service_pod_status_terminated</td>
<td>The pods and containers which are currently in the terminated status, with reasons shown</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Pod Restarts</td>
<td></td>
<td>k8s_service_pod_status_restarts_total</td>
<td>The number of per container restarts related to the pods</td>
<td>K8s kube-state-metrics</td>
</tr>
<tr>
<td>Pod Network Receive</td>
<td>KB/s</td>
<td>k8s_service_pod_network_receive</td>
<td>The network receive of the pods</td>
<td>cAdvisor</td>
</tr>
<tr>
<td>Pod Network Transmit</td>
<td>KB/s</td>
<td>k8s_service_pod_network_transmit</td>
<td>The network transmit of the pods</td>
<td>cAdvisor</td>
</tr>
<tr>
<td>Pod Storage Usage</td>
<td>MB</td>
<td>k8s_service_pod_fs_usage</td>
<td>The storage resources total usage of pods related to this service</td>
<td>cAdvisor</td>
</tr>
</tbody>
</table>
<h2 id="customizing">Customizing</h2>
<p>You can customize your own metrics/expression/dashboard panel.<br>
The metrics definition and expression rules are found in <code>/config/otel-oc-rules/k8s-cluster.yaml，/config/otel-oc-rules/k8s-node.yaml, /config/otel-oc-rules/k8s-service.yaml</code>.<br>
The dashboard panel configurations are found in <code>/config/ui-initialized-templates/k8s.yml</code>.</p>




</div>


            </main>
          <div id="toc" class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            




<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">











</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#k8s-monitoring">K8s monitoring</a>
      <ul>
        <li><a href="#data-flow">Data flow</a></li>
        <li><a href="#setup">Setup</a></li>
        <li><a href="#supported-metrics">Supported Metrics</a>
          <ul>
            <li><a href="#cluster">Cluster</a></li>
            <li><a href="#node">Node</a></li>
            <li><a href="#service">Service</a></li>
          </ul>
        </li>
        <li><a href="#customizing">Customizing</a></li>
      </ul>
    </li>
  </ul>
</nav>




<script>
  $(function () {
    var $toc = $("#TableOfContents");
    if (!$toc || !$toc.length) {
      return;
    }
    var top = $toc.offset().top;
    $(window).on("scroll", debounce(setTop, 100))
    $(window).on("scroll", debounce(addActive, 30))

    function addActive() {
      var scrollValue = $(window).scrollTop();
      var topEle = null;
      $.each($('main h1, main h2, main h3'), function (index, item) {
        if ($(item).offset().top - 70 > scrollValue) {
          return
        }
        if (!topEle) {
          topEle = item
        } else if ($(item).offset().top >= $(topEle).offset().top) {
          topEle = item
        }
        if (topEle) {
          var id = $(item).attr('id');
          $toc.find('a').removeClass("active").end().find('a[href="' + '#' + id + '"]').addClass("active")
        }
      })
    }

    function setTop() {
      var scrollValue = $(window).scrollTop();
      if (scrollValue >= top - 70) {
        $toc.addClass('fixed')
      } else {
        $toc.removeClass('fixed')
      }
    }

    function debounce(fn, wait) {
      var timeout = null;
      return function () {
        clearTimeout(timeout);
        timeout = setTimeout(() => {
          fn.apply(this, arguments);
        }, wait);
      };
    }
  })

</script>

          </div>

        </div>
      </div>

      
<footer class="py-5 sky-row">
  <div class="container-fluid text-center">
    <div class="">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-color" target="_blank" href="https://twitter.com/asfskywalking">
      <i class="iconfont icon-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-color" target="_blank" href="http://s.apache.org/slack-invite">
      <i class="iconfont icon-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Mailing list" aria-label="Mailing list">
    <a class="text-color" target="_blank" href="https://lists.apache.org/list.html?dev@skywalking.apache.org">
      <i class="iconfont icon-email"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-color" target="_blank" href="https://github.com/apache/skywalking">
      <i class="iconfont icon-github"></i>
    </a>
  </li>
  
</ul>

        
        
    </div>
    <div class="">

        <small class="text-color">&copy; 2017 - 2022 The Apache Software Foundation All Rights Reserved</small>
        
	
    </div>
    <div class="">
      <small class="text-color mt-4">Apache SkyWalking, SkyWalking, Apache, the Apache feather logo, and the Apache SkyWalking project logo are either registered trademarks or trademarks of the Apache Software Foundation.</small>
    </div>
  </div>
</footer>


    </div>
    

















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































    
<div id="popup">
    <div class="mask">
        <img src=""/>
    </div>
</div>

    <div class="sidebar-mask"></div>
<div class="sidebar">
    <nav class="nav-links">
        <div class="nav-item"><a href="/docs/" class="nav-link">Projects and Documentation</a></div>
        <div class="nav-item"><a href="/events/" class="nav-link">Events</a></div>
        <div class="nav-item"><a href="/blog/" class="nav-link router-link-exact-active router-link-active">Blog</a>
        </div>
        <div class="nav-item"><a href="/downloads/" class="nav-link">Downloads</a></div>
        <div class="nav-item"><a href="/team/" class="nav-link">Team</a></div>
        <div class="nav-item"><a href="/users/" class="nav-link">Users</a></div>
        <div class="nav-item"><a href="/zh/" class="nav-link">中文博客</a></div>
        <div class="nav-item">
            <div class="dropdown-wrapper open"><a class="dropdown-title"><span>Links</span> <span
                    class="arrow down"></span></a>
                <ul class="nav-dropdown" style="">
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Apache Software Foundation
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://github.com/apache/skywalking/issues"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            GitHub Issue Tracker
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="https://lists.apache.org/list.html?dev@skywalking.apache.org" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Dev Mailing List
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/licenses/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            License
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/events/current-event"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Apache Events
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/security/" target="_blank"
                           rel="noopener noreferrer" class="nav-link external">
                            Security
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/sponsorship.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Sponsorship and Donate
                        </a>
                    </li>
                    <li class="dropdown-item">
                        <a href="http://www.apache.org/foundation/thanks.html"
                           target="_blank" rel="noopener noreferrer"
                           class="nav-link external">
                            Thanks
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>

    <script src="/js/bootstrap.bundle.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>









<script src="/js/main.min.d00d7a99f9e61382b1db35fac38e0e7bdd97f8d3c663a4c4b8d02c3f1d78d894.js" integrity="sha256-0A16mfnmE4Kx2zX6w44Oe92X&#43;NPGY6TEuNAsPx142JQ=" crossorigin="anonymous"></script>


<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
    window.onload = () => mermaid.init(undefined, ".language-mermaid");
</script>





  </body>
  <script>
    $(function (){
      $('.doc-menu-button').on('click',function (){
        $('.td-sidebar').toggleClass('active')
      })
      $('.version-select').on('change', function (){
        var selectVersion = $(this).val();
        var prefix = '';
        var url = location.href.replace(/(\/docs\/[a-zA-Z\-]+\/)([\w|\.]+)(\/.*)/, function (match, p1, p2, p3){
          prefix = p1 + selectVersion;
          return p1 + selectVersion + p3
        })
        go2SelectVersion(url, prefix)

      })
      function go2SelectVersion(url, prefix){
        $.ajax({
          url: url,
          type: "get",
          success:function(){
            location.href = url;
          },
          statusCode: {
            404:function(){
              location.href = prefix + '/readme/';
            }
          }
        });
      }
    })
  </script>
</html>
